- request:
    url: /api/users/:id.json
    method: GET
    header:
      X-Foo: 'foo'
  response:
    status: 200
    file: "json/users/<%= header['x-foo'] %>.json"

- request:
    url: /api/users/:id.json
    method: GET
  response:
    status: 200
    file: "json/users/<%= params.id %>.json"

- request:
    url: /api/users
    method: POST
    body:
      name: n1
  response:
    status: 201
    file: "json/users/n1.json"

- request:
    url: /api/users
    method: POST
    query:
      name: n2
  response:
    status: 201
    file: "json/users/n2.json"

- request:
    url: /api/users
    method: POST
  response:
    status: "<%= body.name ? 201 : 422 %>"
    file: "json/users/<%= body.name ? 'created' : 'failed' %>.json"
